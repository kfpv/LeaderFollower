body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial;margin:0;display:flex;flex-direction:column;height:100vh}
#controls{padding:8px;background:#111;color:#eee;display:flex;gap:12px;align-items:center}
#coordCard{position:fixed;left:12px;bottom:12px;background:rgba(0,0,0,0.6);color:#fff;padding:8px;border-radius:6px;font-family:monospace;font-size:12px}
canvas{flex:1;display:block;width:100%;height:calc(100vh - 48px);background:#222}
#info{margin-left:12px}
#ledToggles{display:flex;gap:4px;margin-left:16px;font-size:12px;align-items:center;flex-wrap:wrap}
input[type=range]{vertical-align:middle}

/* Branch mode collapsible card */
#branchCard{position:fixed;right:12px;bottom:12px;width:260px;max-height:60vh;display:flex;flex-direction:column;background:rgba(0,0,0,0.7);color:#eee;border:1px solid #333;border-radius:8px;font-size:12px;font-family:system-ui;backdrop-filter:blur(4px);overflow:hidden;transition:height 0.25s ease, box-shadow 0.25s ease}
#branchCard.collapsed{height:28px;width:160px;cursor:pointer}
#branchCard.expanded{box-shadow:0 4px 12px rgba(0,0,0,0.5)}
#branchHeader{display:flex;align-items:center;justify-content:space-between;padding:4px 8px;background:rgba(255,255,255,0.08);cursor:pointer;user-select:none}
#branchHeader h4{margin:0;font-size:12px;font-weight:600;letter-spacing:0.5px;text-transform:uppercase}
#branchBody{padding:8px;display:flex;flex-direction:column;gap:8px;overflow-y:auto}
.branchRow{display:flex;flex-direction:column;gap:4px;padding:4px 6px;background:rgba(255,255,255,0.04);border-radius:4px}
.branchRow header{display:flex;justify-content:space-between;align-items:center;font-weight:600;font-size:11px;color:#9fd}
.branchInputs{display:flex;flex-direction:column;gap:4px}
.branchInputs label{display:flex;justify-content:space-between;gap:6px}
.branchInputs input{flex:1;background:#111;border:1px solid #333;color:#eee;padding:2px 4px;border-radius:3px;font-size:11px;font-family:monospace}
#branchActions{display:flex;gap:6px;flex-wrap:wrap}
#branchActions button{flex:1 1 auto;background:#1e3d4f;border:1px solid #2d566b;color:#fff;padding:4px 6px;font-size:11px;border-radius:4px;cursor:pointer}
#branchActions button:hover{background:#265167}
.modeIndicator{margin-left:6px;font-size:10px;letter-spacing:0.5px;padding:2px 4px;border-radius:3px;background:#444;color:#ccc}
#branchCard.active .modeIndicator{background:#2d7236;color:#d4f8d8}
.tinyNote{font-size:10px;opacity:0.7}
